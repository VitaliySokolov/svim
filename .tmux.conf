# Add binding to reload tmux.conf for fast, iterative development
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# unbind C-Space
# set -g prefix C-Space
# bind C-Space send-prefix

# Links
# https://github.com/tmux/tmux/wiki/Getting-Started
# https://tmuxcheatsheet.com/
# https://github.com/tmux-plugins/list

set -g mouse on
set-option -g history-limit 5000
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
setw -g mode-keys vi

bind | split-window -hc "#{pane_current_path}" # default %
bind-key "\\" split-window -fh -c "#{pane_current_path}"
bind - split-window -vc "#{pane_current_path}" # default "
bind-key "_" split-window -fv -c "#{pane_current_path}"

bind -r "<" swap-window -d -t -1
bind -r ">" swap-window -d -t +1

bind c new-window -c "#{pane_current_path}"

bind Space last-window
bind-key C-Space switch-client -l

bind -r C-j resize-pane -D 15
bind -r C-k resize-pane -U 15
bind -r C-h resize-pane -L 15
bind -r C-l resize-pane -R 15

bind j choose-window 'join-pane -h -s "%%"'
bind J choose-window 'join-pane -s "%%"'

# *Plugins*
# git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
# Press <leader>+I to install plugins (it takes time)
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# set -g @plugin 'dracula/tmux'
# available plugins: battery, cpu-usage, git, gpu-usage, ram-usage, tmux-ram-usage, network, network-bandwidth, network-ping, ssh-session, attached-clients, network-vpn, weather, time, mpc, spotify-tui, krbtgt, playerctl, kubernetes-context, synchronize-panes
# set -g @dracula-plugins "time"
# set -g @dracula-time-format "%a %F %T"
# set -g @dracula-show-fahrenheit false
# set -g @dracula-show-location false

# https://github.com/nordtheme/tmux
# TODO: remove .tmux/plugins/tmux of dracula theme, prefix + alt + u
set -g @plugin "nordtheme/tmux"
set-window-option -g clock-mode-style 24

#
set -g @plugin 'alexwforsythe/tmux-which-key'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-open'
set -g @plugin 'laktak/extrakto' # requires fzf

# plugin config
set -g @continuum-restore 'on'

run '~/.tmux/plugins/tpm/tpm'
